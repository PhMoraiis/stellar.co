'use client'

import { useState, useEffect } from 'react'
import { motion, useAnimate, AnimatePresence } from 'motion/react'
import Link from 'next/link'
import { ArrowLeft, Home } from 'lucide-react'

export default function NotFound() {
  const [isLoaded, setIsLoaded] = useState(false)
  const [scope, animate] = useAnimate()

  useEffect(() => {
    setIsLoaded(true)

    // Animação sequencial dos elementos
    const sequence = async () => {
      await animate(scope.current, { opacity: 1 }, { duration: 0.5 })

      await animate([
        [
          '.error-code',
          { opacity: 1, y: 0 },
          { duration: 0.6, ease: 'easeOut' },
        ],
        ['.error-message', { opacity: 1, y: 0 }, { duration: 0.5, delay: 0.1 }],
        ['.bar', { scaleY: 1, opacity: 1 }, { duration: 0.4 }],
        [
          '.illustration',
          { opacity: 1, scale: 1 },
          { duration: 0.6, type: 'spring' },
        ],
        ['.buttons', { opacity: 1, y: 0 }, { duration: 0.5 }],
      ])
    }

    sequence()
  }, [animate, scope])

  // Efeito de partículas para o fundo
  const particles = Array.from({ length: 30 }).map((_, i) => ({
    id: i,
    x: Math.random() * 100,
    y: Math.random() * 100,
    size: Math.random() * 4 + 1,
    duration: Math.random() * 20 + 10,
  }))

  return (
    <motion.div
      ref={scope}
      className="min-h-screen flex flex-col items-center justify-center bg-[#e8ded0] p-4 overflow-hidden relative"
      initial={{ opacity: 0 }}
    >
      {/* Partículas de fundo */}
      <div className="absolute inset-0 overflow-hidden pointer-events-none">
        <AnimatePresence>
          {isLoaded &&
            particles.map(particle => (
              <motion.div
                key={particle.id}
                className="absolute rounded-full bg-[#ff4500]"
                initial={{
                  opacity: 0,
                  x: `${particle.x}%`,
                  y: `${particle.y}%`,
                  width: `${particle.size}px`,
                  height: `${particle.size}px`,
                }}
                animate={{
                  opacity: [0, 0.2, 0],
                  y: [`${particle.y}%`, `${particle.y - 20}%`],
                }}
                transition={{
                  duration: particle.duration,
                  repeat: Number.POSITIVE_INFINITY,
                  repeatType: 'loop',
                  delay: particle.id * 0.2,
                }}
              />
            ))}
        </AnimatePresence>
      </div>

      <div className="container mx-auto max-w-6xl flex flex-col md:flex-row items-center justify-between gap-8 md:gap-16 relative z-10">
        {/* Conteúdo textual */}
        <div className="flex flex-col max-w-xl">
          <motion.h1
            className="error-code text-9xl font-serif text-[#333] font-medium"
            initial={{ opacity: 0, y: 30 }}
          >
            404
          </motion.h1>

          <motion.p
            className="error-message text-2xl md:text-3xl font-serif text-[#555] mt-4"
            initial={{ opacity: 0, y: 20 }}
          >
            Oops! A página que você procura não existe ou foi movida.
          </motion.p>

          <motion.div
            className="buttons flex flex-wrap gap-4 mt-8"
            initial={{ opacity: 0, y: 20 }}
          >
            <button
              type="button"
              onClick={() => window.history.back()}
              className="px-6 py-2 rounded-lg font-mono text-[#333] border-2 border-[#333] flex items-center gap-2 hover:bg-[#33333310] transition-colors"
            >
              <ArrowLeft size={18} />
              Voltar
            </button>

            <Link href="/" passHref>
              <motion.button
                className="px-6 py-3 rounded-lg font-mono text-white bg-[#ff4500] flex items-center gap-2 hover:bg-[#ff6b3d] transition-colors"
                whileHover={{ scale: 1.03 }}
                whileTap={{ scale: 0.98 }}
              >
                <Home size={18} />
                Home
              </motion.button>
            </Link>
          </motion.div>
        </div>

        {/* Ilustração */}
        <motion.div
          className="illustration w-full max-w-md"
          initial={{ opacity: 0, scale: 0.9 }}
          animate={{
            y: [0, -15, 0], // sobe 15px e volta
            scale: [0.9, 1, 1], // escala para dar mais vida
          }}
          transition={{
            duration: 4, // duração total do ciclo
            repeat: Number.POSITIVE_INFINITY,
            repeatType: 'loop',
            ease: 'easeInOut',
          }}
        >
          {/* biome-ignore lint/a11y/noSvgWithoutTitle: <explanation> */}
          <svg
            width="794"
            height="800"
            viewBox="0 0 794 800"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M758.684 35.1079C668.313 -55.2634 431.682 34.8496 230.155 236.378C478.01 41.7851 613.028 51.1697 667.916 72.0147C677.927 75.4872 686.918 80.3565 694.757 86.6703C694.88 86.7691 694.998 86.8743 695.121 86.9748C696.101 87.7736 697.077 88.5819 698.021 89.427C699.135 90.4203 700.224 91.4439 701.285 92.5041L701.286 92.5057C734.255 125.474 736.128 183.881 712.517 253.706C709.617 262.281 706.312 271.037 702.653 279.93C701.867 281.84 701.066 283.757 700.245 285.681C667.359 362.806 606.92 450.356 525.526 531.749C522.487 534.788 519.437 537.789 516.382 540.77C515.45 541.68 514.514 542.578 513.579 543.482C511.419 545.574 509.255 547.653 507.087 549.716C506.035 550.717 504.983 551.714 503.927 552.709C501.756 554.758 499.579 556.787 497.401 558.806C496.464 559.675 495.528 560.548 494.59 561.411C488.412 567.092 482.212 572.651 475.995 578.088C475.067 578.9 474.139 579.699 473.211 580.504C470.995 582.427 468.777 584.337 466.556 586.229C465.502 587.127 464.45 588.02 463.396 588.909C461.175 590.784 458.954 592.642 456.732 594.485C455.802 595.257 454.871 596.033 453.941 596.8C447.684 601.95 441.418 606.971 435.152 611.86C434.246 612.567 433.342 613.26 432.438 613.962C430.179 615.711 427.92 617.447 425.66 619.163C424.627 619.947 423.596 620.727 422.562 621.505C420.308 623.2 418.057 624.877 415.804 626.537C414.895 627.208 413.985 627.884 413.076 628.549C406.799 633.141 400.53 637.599 394.275 641.918C393.415 642.511 392.556 643.093 391.697 643.681C389.409 645.248 387.124 646.8 384.839 648.329C383.838 649 382.837 649.667 381.835 650.331C379.57 651.835 377.306 653.318 375.045 654.783C374.173 655.349 373.299 655.921 372.429 656.481C369.34 658.468 366.255 660.427 363.178 662.343C514.464 571.145 705.488 421.555 775.191 235.893C803.577 149.707 800.39 76.8138 758.684 35.1079Z"
              fill="#110D0A"
            />
            <path
              d="M64.3377 585.126C64.3871 584.89 64.4365 584.654 64.4876 584.419C64.8575 582.678 65.2433 580.928 65.6515 579.166C65.7471 578.755 65.846 578.342 65.9432 577.93C66.3323 576.282 66.7309 574.63 67.1518 572.965C67.2841 572.446 67.4244 571.921 67.5584 571.398C67.9729 569.797 68.3906 568.193 68.8339 566.578C68.9758 566.063 69.1288 565.542 69.2739 565.025C70.3198 561.291 71.4263 557.527 72.6285 553.716V553.71C72.6365 553.684 72.6444 553.659 72.6524 553.633C72.7337 553.377 72.8198 553.118 72.9011 552.863C73.4687 550.996 74.0874 549.11 74.7538 547.205C103.086 462.754 168.83 361.472 262.038 268.266C325.383 204.921 392.457 154.266 455.445 119.409C53.9566 337.649 -60.6334 675.39 28.8834 764.907C104.54 840.564 282.706 789.663 456.968 652.854C162.077 803.601 86.1122 739.062 66.412 675.846C57.3639 651.207 56.9716 620.228 64.3377 585.126Z"
              fill="#110D0A"
            />
            <path
              d="M375.045 654.781C377.306 653.314 379.568 651.833 381.835 650.329C382.837 649.664 383.838 648.998 384.839 648.327C387.122 646.796 389.409 645.246 391.697 643.679C392.556 643.091 393.415 642.509 394.275 641.916C400.529 637.597 406.799 633.139 413.076 628.547C413.985 627.882 414.893 627.206 415.804 626.535C418.057 624.873 420.309 623.198 422.562 621.503C423.595 620.726 424.627 619.945 425.66 619.161C427.919 617.445 430.179 615.71 432.438 613.96C433.343 613.26 434.248 612.565 435.152 611.858C441.417 606.968 447.683 601.948 453.941 596.798C454.872 596.033 455.802 595.255 456.732 594.483C458.954 592.64 461.177 590.782 463.396 588.907C464.45 588.018 465.502 587.123 466.556 586.227C468.776 584.336 470.993 582.426 473.211 580.502C474.139 579.697 475.067 578.898 475.995 578.086C482.211 572.651 488.412 567.091 494.59 561.409C495.529 560.546 496.465 559.671 497.401 558.804C499.579 556.785 501.754 554.756 503.927 552.707C504.981 551.713 506.035 550.715 507.087 549.714C509.255 547.653 511.419 545.572 513.579 543.48C514.514 542.576 515.45 541.677 516.382 540.768C519.437 537.788 522.487 534.786 525.526 531.747C606.919 450.354 667.359 362.804 700.245 285.679C701.066 283.755 701.867 281.838 702.653 279.928C706.31 271.035 709.617 262.278 712.517 253.704C736.128 183.881 734.256 125.472 701.286 92.5036L701.285 92.502C700.224 91.4418 699.132 90.4214 698.021 89.4249C697.077 88.5799 696.103 87.7731 695.121 86.9727C694.998 86.8723 694.88 86.767 694.757 86.6682C686.918 80.3544 677.927 75.4852 667.916 72.0126C617.017 54.3532 539.911 72.6663 455.448 119.406C392.46 154.262 325.386 204.917 262.041 268.262C168.835 361.47 103.091 462.753 74.7569 547.205C74.1207 549.099 73.5021 550.985 72.9042 552.863C72.8229 553.12 72.7368 553.378 72.6555 553.633C72.6475 553.66 72.6395 553.689 72.63 553.716C71.4262 557.525 70.3213 561.289 69.2754 565.025C69.1303 565.542 68.9772 566.063 68.8353 566.578C68.3905 568.193 67.9728 569.797 67.5598 571.398C67.4243 571.919 67.284 572.444 67.1532 572.965C66.7307 574.63 66.3337 576.283 65.9447 577.93C65.8474 578.341 65.7486 578.754 65.6529 579.166C65.2448 580.927 64.8589 582.678 64.489 584.419C64.4396 584.655 64.3886 584.891 64.3392 585.125C56.9715 620.229 57.3653 651.206 66.4134 675.846C70.8905 688.037 77.4641 698.69 86.2827 707.509C136.322 757.549 244.965 735.953 363.179 662.341C366.257 660.425 369.342 658.464 372.43 656.479C373.301 655.919 374.173 655.347 375.045 654.781ZM143.679 650.111C92.0527 598.485 162.177 444.659 300.306 306.529C438.436 168.4 592.262 98.2769 643.888 149.901C695.515 201.526 625.39 355.354 487.261 493.483C349.131 631.613 195.305 701.737 143.679 650.111Z"
              fill="#130F0D"
            />
            <path
              d="M643.889 149.902C592.263 98.2758 438.436 168.4 300.307 306.53C162.177 444.659 92.0532 598.485 143.679 650.111C195.306 701.738 349.132 631.613 487.261 493.484C625.389 355.354 695.513 201.528 643.889 149.902ZM217.498 576.293C185.044 543.839 237.662 438.605 335.021 341.244C432.381 243.883 537.617 191.267 570.07 223.72C602.524 256.174 549.906 361.408 452.547 458.769C355.186 556.129 249.951 608.747 217.498 576.293Z"
              fill="#FF6B3D"
            />
            <path
              d="M570.07 223.72C537.616 191.266 432.382 243.884 335.021 341.244C237.66 438.603 185.044 543.839 217.498 576.293C249.951 608.746 355.185 556.129 452.546 458.769C549.906 361.408 602.524 256.174 570.07 223.72ZM417.288 423.512C365.362 475.438 312.746 507.009 299.765 494.027C286.783 481.046 299.2 409.275 351.126 357.349C403.052 305.423 474.823 293.006 487.805 305.987C500.785 318.969 469.214 371.586 417.288 423.512Z"
              fill="#D43504"
            />
            <path
              d="M351.124 357.349C299.198 409.275 286.781 481.046 299.763 494.028C312.744 507.009 365.362 475.439 417.286 423.513C469.212 371.587 500.783 318.971 487.801 305.989C474.821 293.006 403.05 305.423 351.124 357.349Z"
              fill="white"
            />
          </svg>
        </motion.div>
      </div>
    </motion.div>
  )
}
